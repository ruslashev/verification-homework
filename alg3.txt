0 3 1 2

lo = 0
  x = 0
  idx = 0
_
0 3 1 2

lo = 1
  x = 3
  idx = 1 + 2 = 3

  a[3] = 3
  x = 2
_     _
0 3 1 3

  idx = 1 + 1 = 2

  a[2] = 2
  x = 1
_   _ _
0 3 2 3

  idx = 1

  a[1] = 1
  x = 3
_ _ _ _
0 1 2 3

